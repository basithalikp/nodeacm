<%- include('partials/header') %>

    <main id="main-content" class="content-wrapper" role="main">
        <section class="hero-section" aria-labelledby="hero-heading">
            <h1 id="hero-heading" class="main-heading">NSS College of Engineering<br><span class="gradient-text">ACM Student Chapter</span></h1>
            <p class="sub-heading" style="font-family: var(--font-heading); font-size: 1.2rem;">NSSCE's premier organization for Computer Science and Information Technology.</p>
        </section>

        <!-- Intro and Top Highlights Container -->
        <div class="intro-highlights-wrapper">
            <section class="intro-section liquid-glass" aria-labelledby="intro-heading">
                <h2 id="intro-heading"><%= siteConfig.intro.heading %></h2>
                <p><%= siteConfig.intro.text %></p>
            </section>

            <!-- Top Highlight Section -->
            <% if (topHighlight) { %>
            <aside class="top-highlight-section liquid-glass" aria-labelledby="highlight-heading">
                <h2 id="highlight-heading" class="highlight-section-title gradient-text">Top Highlight</h2>
                <div class="highlight-card-wrapper">
                    <!-- Carousel Container -->
                    <div class="highlight-carousel-wrapper">
                        <div class="highlight-carousel" id="topHighlightCarousel">
                            <% (topHighlight.photos || [topHighlight.image]).forEach((photo, index) => { %>
                                <img src="<%= photo %>" 
                                     alt="<%= topHighlight.title %> - Photo <%= index + 1 %>" 
                                     class="highlight-slide <%= index === 0 ? 'active' : '' %>"
                                     loading="<%= index === 0 ? 'eager' : 'lazy' %>">
                            <% }) %>
                        </div>
                        <% if ((topHighlight.photos || [topHighlight.image]).length > 1) { %>
                        <button class="carousel-control prev" aria-label="Previous photo">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="carousel-control next" aria-label="Next photo">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                        <div class="carousel-indicators">
                            <% (topHighlight.photos || [topHighlight.image]).forEach((photo, dotIndex) => { %>
                                <button class="indicator <%= dotIndex === 0 ? 'active' : '' %>" 
                                        aria-label="Go to photo <%= dotIndex + 1 %>"></button>
                            <% }) %>
                        </div>
                        <% } %>
                    </div>
                    <!-- Content -->
                    <div class="highlight-content">
                        <span class="highlight-date"><i class="far fa-calendar-alt"></i> <%= topHighlight.date %></span>
                        <h3 class="highlight-title"><%= topHighlight.title %></h3>
                        <p class="highlight-description"><%= topHighlight.description %></p>
                    </div>
                </div>
            </aside>
            <% } %>
        </div>

        <section class="home-deck-section" aria-labelledby="events-heading">
            <div class="deck-header">
                <h2 id="events-heading"><a href="/events">Upcoming Events</a></h2>
                <a href="/events" class="btn-gradient" aria-label="View more events">More Events <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
            </div>
            <div class="card-deck-container liquid-glass">
                <div class="card-deck horizontal-scroll" role="list">
                    <% featuredEvents.forEach(event => { %>
                        <%- include('partials/event-card', { event: event }) %>
                    <% }) %>
                </div>
            </div>
        </section>

        <section class="home-deck-section" aria-labelledby="team-heading">
            <div class="deck-header">
                <h2 id="team-heading"><a href="/team">Meet The Team</a></h2>
                <a href="/team" class="btn-gradient" aria-label="View all team members">More Members <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
            </div>
            <div class="card-deck-container liquid-glass">
                <div class="card-deck horizontal-scroll" role="list">
                    <% featuredTeam.forEach(member => { %>
                        <%- include('partials/team-card', { member: member }) %>
                    <% }) %>
                </div>
            </div>
        </section>

        <section class="join-us-section" aria-labelledby="join-heading">
            <h2 id="join-heading">Why Join Us?</h2>
            <div class="benefits-container">
                <ul role="list">
                    <% benefits.forEach(benefit => { %>
                        <li><i class="fas fa-check-circle" aria-hidden="true"></i> <%= benefit %></li>
                    <% }) %>
                </ul>
                <a href="/about" class="btn-gradient" aria-label="Learn more about joining NSSCE ACM">Learn More & Join</a>
            </div>
        </section>
    </main>

    <!-- Event Gallery Modal -->
    <div id="eventGalleryModal" class="gallery-modal" role="dialog" aria-modal="true" aria-labelledby="galleryModalTitle" aria-hidden="true">
        <div class="gallery-modal-backdrop"></div>
        <div class="gallery-modal-container">
            <!-- Close Button -->
            <button class="gallery-close-btn" aria-label="Close gallery" title="Close (Esc)">
                <i class="fas fa-times"></i>
            </button>
            
            <!-- Modal Header -->
            <div class="gallery-modal-header">
                <h2 id="galleryModalTitle" class="gallery-modal-title"></h2>
                <p class="gallery-modal-date"></p>
            </div>
            
            <!-- Featured Photo Area -->
            <div class="gallery-featured-container">
                <button class="gallery-nav-btn gallery-prev-btn" aria-label="Previous photo">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <div class="gallery-featured-wrapper">
                    <img id="galleryFeaturedPhoto" class="gallery-featured-photo" src="" alt="Featured event photo">
                    <div class="gallery-photo-counter">
                        <span id="galleryCurrentIndex">1</span> / <span id="galleryTotalCount">1</span>
                    </div>
                </div>
                <button class="gallery-nav-btn gallery-next-btn" aria-label="Next photo">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
            
            <!-- Thumbnail Strip -->
            <div class="gallery-thumbnails-container">
                <div id="galleryThumbnails" class="gallery-thumbnails"></div>
            </div>
        </div>
    </div>

<%- include('partials/footer') %>
